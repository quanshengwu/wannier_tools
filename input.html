
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>2.2. Introduction of input files &#8212; WannierTools 2.7.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=dfec817d"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'input';</script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2.3. Capabilities of WannierTools" href="features.html" />
    <link rel="prev" title="2.1. Installation of WannierTools (Linux or Mac)" href="installation.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.7.0" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">WannierTools 2.7.0 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="changes.html">
    Updates
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="preliminaries.html">
    Preliminaries
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="tutorials.html">
    Tutorial: learning WannierTools through examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="citations.html">
    WannierTools’s citations upto March 6 2020
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="changes.html">
    Updates
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="preliminaries.html">
    Preliminaries
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="tutorials.html">
    Tutorial: learning WannierTools through examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="citations.html">
    WannierTools’s citations upto March 6 2020
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">2.1. Installation of WannierTools (Linux or Mac)</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2.2. Introduction of input files</a></li>
<li class="toctree-l1"><a class="reference internal" href="features.html">2.3. Capabilities of WannierTools</a></li>
<li class="toctree-l1"><a class="reference internal" href="symmetrization.html">2.4. Symmetrization of wannier90_hr.dat <strong>New</strong>  usesful for ir2tb</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="preliminaries.html" class="nav-link"><span class="section-number">2. </span>Preliminaries</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis"><span class="section-number">2.2. </span>Introduction of input files</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="introduction-of-input-files">
<h1><span class="section-number">2.2. </span>Introduction of input files<a class="headerlink" href="#introduction-of-input-files" title="Link to this heading">#</a></h1>
<p><strong>Attention:</strong> From WannierTools 2.2, the name of input file changes from ‘input.dat’ to <strong>‘wt.in’</strong>.
The excutable binary changes from ‘wann_tools’ to <strong>‘wt.x’</strong></p>
<p>There are two input files you should prepare <a class="reference internal" href="#wt-in"><span class="std std-ref">wt.in</span></a>
and  <a class="reference internal" href="#wannier90-dat"><span class="std std-ref">wannier90_hr.dat</span></a></p>
<ul class="simple">
<li><p><a class="reference internal" href="#wt-in"><span class="std std-ref">Main input file wt.in</span></a></p></li>
<li><p><a class="reference internal" href="#phonon"><span class="std std-ref">Special tags for phonon system (under testing)</span></a></p></li>
<li><p><a class="reference internal" href="#wannier90-dat"><span class="std std-ref">Tight-binding model wannier90_hr.dat</span></a></p></li>
</ul>
<section id="main-input-file-wt-in">
<span id="wt-in"></span><h2><span class="section-number">2.2.1. </span>Main input file wt.in<a class="headerlink" href="#main-input-file-wt-in" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#basic-parameters"><span class="std std-ref">Basic Parameters</span></a></p></li>
<li><p><a class="reference internal" href="#tbfilenamelist"><span class="std std-ref">TB_FILE</span></a></p></li>
<li><p><a class="reference internal" href="#systemnamelist"><span class="std std-ref">SYSTEM</span></a></p></li>
<li><p><a class="reference internal" href="#controlnamelist"><span class="std std-ref">CONTROL</span></a></p></li>
<li><p><a class="reference internal" href="#parametersnamelist"><span class="std std-ref">PARAMETERS</span></a></p></li>
<li><p><a class="reference internal" href="#latticecard"><span class="std std-ref">LATTICE</span></a></p></li>
<li><p><a class="reference internal" href="#atompositions"><span class="std std-ref">ATOM_POSITIONS</span></a></p></li>
<li><p><a class="reference internal" href="#projectors"><span class="std std-ref">PROJECTORS</span></a></p></li>
<li><p><a class="reference internal" href="#surface"><span class="std std-ref">SURFACE</span></a></p></li>
<li><p><a class="reference internal" href="#kpathbulk"><span class="std std-ref">KPATH_BULK</span></a></p></li>
<li><p><a class="reference internal" href="#kpoints3d"><span class="std std-ref">KPOINTS_3D</span></a></p></li>
<li><p><a class="reference internal" href="#kpathslab"><span class="std std-ref">KPATH_SLAB</span></a></p></li>
<li><p><a class="reference internal" href="#kplane-slab"><span class="std std-ref">KPLANE_SLAB</span></a></p></li>
<li><p><a class="reference internal" href="#kplane-bulk"><span class="std std-ref">KPLANE_BULK</span></a></p></li>
<li><p><a class="reference internal" href="#kcube-bulk"><span class="std std-ref">KCUBE_BULK</span></a></p></li>
<li><p><a class="reference internal" href="#effectivemass"><span class="std std-ref">EFFECTIVE_MASS</span></a></p></li>
<li><p><a class="reference internal" href="#selectedatoms"><span class="std std-ref">SELECTED_ATOMS</span></a></p></li>
<li><p><a class="reference internal" href="#wanniercenter"><span class="std std-ref">WANNIER_CENTRES</span></a></p></li>
</ul>
<p>Before executing wann_tools, you should cp the wt.in file
in the directory wannier_tools/example by your own necessary.</p>
<p>For version later than 2.0, we updated the format of wt.in.
The input file is structured in a number of <strong>NAMELIST</strong> and <strong>INPUT_CARDS</strong>.</p>
<p>Here we introduce the wt.in for Bi2Se3 as an example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&amp;TB_FILE
Hrfile = &#39;wannier90_hr.dat&#39;
Package = &#39;VASP&#39;             ! obtained from VASP, it could be &#39;VASP&#39;, &#39;QE&#39;, &#39;Wien2k&#39;, &#39;OpenMx&#39;
/

LATTICE
Angstrom
-2.069  -3.583614  0.000000     ! crystal lattice information
 2.069  -3.583614  0.000000
 0.000   2.389075  9.546667

ATOM_POSITIONS
5                               ! number of atoms for projectors
Direct                          ! Direct or Cartisen coordinate
 Bi 0.3990    0.3990    0.6970
 Bi 0.6010    0.6010    0.3030
 Se 0     0     0.5
 Se 0.2060    0.2060    0.1180
 Se 0.7940    0.7940    0.8820

PROJECTORS
 3 3 3 3 3          ! number of projectors
Bi pz px py         ! projectors
Bi pz px py
Se pz px py
Se pz px py
Se pz px py

SURFACE            ! See doc for details
 1  0  0
 0  1  0

&amp;CONTROL
BulkBand_calc         = T
BulkFS_calc           = T
BulkGap_cube_calc     = T
BulkGap_plane_calc    = T
SlabBand_calc         = T
WireBand_calc         = T
SlabSS_calc           = T
SlabArc_calc          = T
SlabQPI_calc          = T
SlabSpintexture_calc  = T
Wanniercenter_calc    = T
BerryCurvature_calc   = T
EffectiveMass_calc    = T
/

&amp;SYSTEM
NSLAB = 10              ! for thin film system
NSLAB1= 4               ! nanowire system
NSLAB2= 4               ! nanowire system
NumOccupied = 18        ! NumOccupied
SOC = 1                 ! soc
E_FERMI = 4.4195        ! e-fermi
Bx= 0, By= 0, Bz= 0     ! Bx By Bz
surf_onsite= 0.0        ! surf_onsite
/

&amp;PARAMETERS
Eta_Arc = 0.001     ! infinite small value, like brodening
E_arc = 0.0         ! energy for calculate Fermi Arc
OmegaNum = 100      ! omega number
OmegaMin = -0.6     ! energy interval
OmegaMax =  0.5     ! energy interval
Nk1 = 21           ! number k points  odd number would be better
Nk2 = 21           ! number k points  odd number would be better
Nk3 = 21           ! number k points  odd number would be better
NP = 1              ! number of principle layers
Gap_threshold = 1.0 ! threshold for GapCube output
/

KPATH_BULK            ! k point path
4              ! number of k line only for bulk band
G 0.00000 0.00000 0.0000 Z 0.00000 0.00000 0.5000
Z 0.00000 0.00000 0.5000 F 0.50000 0.50000 0.0000
F 0.50000 0.50000 0.0000 G 0.00000 0.00000 0.0000
G 0.00000 0.00000 0.0000 L 0.50000 0.00000 0.0000

KPATH_SLAB
2        ! numker of k line for 2D case
K 0.33 0.67 G 0.0 0.0  ! k path for 2D case
G 0.0 0.0 M 0.5 0.5

KPLANE_SLAB
-0.1 -0.1      ! Original point for 2D k plane
 0.2  0.0      ! The first vector to define 2D k plane
 0.0  0.2      ! The second vector to define 2D k plane  for arc plots

KPLANE_BULK
-0.00 -0.00  0.00   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  0.50  0.00   ! The second vector to define 3d k space plane


KCUBE_BULK
-0.50 -0.50 -0.50   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  1.00  0.00   ! The second vector to define 3d k space plane
 0.00  0.00  1.00   ! The third vector to define 3d k cube


EFFECTIVE_MASS      ! optional
2                   ! The i&#39;th band to be calculated
0.01                ! k step in unit of (1/Angstrom)
0.0 0.0 0.0         ! k point where the effective mass calculated.


WANNIER_CENTRES     ! copy from wannier90.wout
Cartesian
 -0.000040  -1.194745   6.638646
  0.000038  -1.196699   6.640059
 -0.000032  -1.192363   6.640243
 -0.000086  -3.583414   2.908040
  0.000047  -3.581457   2.906587
 -0.000033  -3.585864   2.906443
 -0.000001   1.194527   4.773338
  0.000003   1.194538   4.773336
 -0.000037   1.194536   4.773327
  0.000006  -1.194384   1.130261
 -0.000018  -1.216986   1.140267
  0.000007  -1.172216   1.140684
  0.000011  -3.583770   8.416406
 -0.000002  -3.561169   8.406398
 -0.000007  -3.605960   8.405979
  0.000086  -1.194737   6.638626
 -0.000047  -1.196693   6.640080
  0.000033  -1.192286   6.640223
  0.000040  -3.583406   2.908021
 -0.000038  -3.581452   2.906608
  0.000032  -3.585788   2.906424
  0.000001   1.194548   4.773330
 -0.000003   1.194537   4.773332
  0.000037   1.194539   4.773340
 -0.000011  -1.194381   1.130260
  0.000002  -1.216981   1.140268
  0.000007  -1.172191   1.140687
 -0.000006  -3.583766   8.416405
  0.000018  -3.561165   8.406400
 -0.000007  -3.605935   8.405982
</pre></div>
</div>
<section id="basic-parameters">
<span id="id1"></span><h3>Basic Parameters<a class="headerlink" href="#basic-parameters" title="Link to this heading">#</a></h3>
<p><strong>TB_FILE, LATTICE, ATOM_POSITIONS, PROJECTORS and SURFACE are the necessary basic parameters. They are used by almost all
functionalities listed in CONTROL namelist.</strong></p>
</section>
<section id="namelists">
<span id="namelist"></span><h3>NAMELISTS<a class="headerlink" href="#namelists" title="Link to this heading">#</a></h3>
<p>NAMELISTS are  a standard input construct in Fortran90.
The use of NAMELISTS is relatively flexible.
All the variables in the NAMELISTS have default values.
You should set them only when it is needed.
Variables can be inserted in any order. Such as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">NAMELIST</span>
<span class="n">needed_variable2</span><span class="o">=</span><span class="n">XX</span><span class="p">,</span> <span class="n">needed_variable1</span><span class="o">=</span><span class="n">YY</span><span class="p">,</span>
<span class="n">character_variable1</span><span class="o">=</span><span class="s1">&#39;a suitable string&#39;</span>
<span class="o">/</span>
</pre></div>
</div>
<p>There are 4 <strong>NAMELISTS</strong> included in wt.in. They are <a class="reference internal" href="#tbfilenamelist"><span class="std std-ref">TB_FILE</span></a>, <strong>SYSTEM</strong>, <strong>CONTROL</strong>, <strong>PARAMETERS</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to comment one line, please use ‘!’ instead of ‘#’, because our codes were written in Fortran.</p>
</div>
<section id="tb-file">
<span id="tbfilenamelist"></span><h4>TB_FILE<a class="headerlink" href="#tb-file" title="Link to this heading">#</a></h4>
<p>Set the filename of the tight-binding Hamiltonian.
At present, we use the format of wannier90_hr.dat specified in Wannier90.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&amp;TB_FILE
Hrfile = &#39;wannier90_hr.dat&#39;
Package = &#39;VASP&#39;             ! obtained from VASP, it could be &#39;VASP&#39;, &#39;QE&#39;, &#39;Wien2k&#39;, &#39;OpenMx&#39;
/
</pre></div>
</div>
<p>The default value for Hrfile is ‘wannier90_hr.dat’.  You could specify the first-principle package that
used for obtaining wannier90_hr.dat. Default value for Package is ‘VASP’. We support VASP, QE, Wien2k, OpenMx, Abinit at present.
Please report new software package to me if you needed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Package is very important if you use QE to generate your tight binding model. Because the orbital order in QE is different from
VASP, Wien2k et al.. And it will affect the results of spin texture. If you got strange spin texture, please carefully check this tag.</p>
</div>
</section>
<section id="system">
<span id="systemnamelist"></span><h4>SYSTEM<a class="headerlink" href="#system" title="Link to this heading">#</a></h4>
<p>In this namelists, we specify the system you need to compute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&amp;SYSTEM
Nslab = 10
Nslab1= 6
Nslab2= 6
NumOccupied = 18        ! NumOccupied
SOC = 1                 ! soc
E_FERMI = 4.4195        ! e-fermi
Bx= 0, By= 0, Bz= 0     ! Bx By Bz
surf_onsite= 0.0        ! surf_onsite
/
</pre></div>
</div>
<ul class="simple">
<li><p>NSlab : integer,  Number of slabs for slab band, The default value is 10.</p></li>
<li><p>NSlab1, Nslab2 :  integers, The thickness of nano ribbon. If you don’t want to calculate the band structure of it, then don’t set it. The default values are Nslab1= 1, Nslab2= 1.</p></li>
<li><p>NumOccupied :  integer, Number of occupied Wannier bands. No default value.</p></li>
</ul>
<p>Important: please set NumOccpuied correctly. It represents the “occpuied” wannier bands, not the total number of electrons.
In the calculation of Wilson loop, the Wilson loop is the trace of NumOccupied bands.
If you want to study the topology between the 8th and the 9th band, then set NumOccupied=8.</p>
<p>When you search Weyl points, nodal line or study the gap in some k slices, NumOccupied is also a very important. WannierTools will look for touching point or calculate the energy gap
between the NumOccupied’th band and the (NumOccupied+1)’th band.</p>
<p>When you calculate the Fermi surface with BulkFS_calc= T,
In order to save the storage, WannierTools only writes out 8(16) energy bands around NumOccupied’th band for SOC=0 (SOC=1) system into FS3D.bxsf.</p>
<p>If you don’t put any physical meaning into this tag, then it is very easy to understand.</p>
<a class="reference internal image-reference" href="_images/WannierTools-numoccupied.png"><img alt="_images/WannierTools-numoccupied.png" src="_images/WannierTools-numoccupied.png" style="width: 768.0px; height: 432.0px;" />
</a>
<ul class="simple">
<li><p>SOC :  integer,  Flag for spin-orbital coupling. If SOC=0, it means there is no SOC included in your given tight binding model. if SOC=1 or &gt;0, it means SOC is already included in the tight binding model.</p></li>
<li><p>E_FERMI : real-valued,  Fermi level for the given tight binding model.</p></li>
<li><p>Bx, By, Bz : real-valued, magnetic field value. Ignore it in this version.</p></li>
<li><p>surf_onsite : real-valued, Additional onsite energy on the surface, you can set this to see how surface state changes. But don’t set it if you don’t know what it is.</p></li>
</ul>
</section>
<section id="control">
<span id="controlnamelist"></span><h4>CONTROL<a class="headerlink" href="#control" title="Link to this heading">#</a></h4>
<p>In this name list, you can set the keywords to setup the tasks.
All these tasks can be set to be true at the same time.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&amp;CONTROL
BulkBand_calc         = T        ! bulk band structure calculation flag
BulkFS_calc           = F
BulkGap_cube_calc     = F
BulkGap_plane_calc    = F
SlabBand_calc         = T
WireBand_calc         = F
SlabSS_calc           = T
SlabArc_calc          = F
SlabSpintexture_calc  = T
wanniercenter_calc    = F
BerryCurvature_calc   = F
/
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>New features : :red:  FindNodes_calc; WeylChirality_calc; Z2_3D_calc; Chern_3D_calc</p>
</div>
<p>We listed those features in the table below.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Flag options</p></th>
<th class="head"><p>Function</p></th>
<th class="head"><p>Output</p></th>
<th class="head"><p>Tested</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BulkBand_calc</p></td>
<td><p>Band structure for bulk</p></td>
<td><p>bulkek.dat, bulkek.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>BulkFS_calc</p></td>
<td><p>Fermi surface
for bulk system</p></td>
<td><p>FS3D.dat, FS3D.bxsf</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>BulkGap_cube_calc</p></td>
<td><p>Energy gap for a given k
cube for bulk system</p></td>
<td><p>GapCube.dat, GapCube.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>BulkGap_plane_calc</p></td>
<td><p>Energy gap for a given k
plane for bulk system</p></td>
<td><p>GapPlane.dat, GapPlane.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>FindNodes_calc</p></td>
<td><p>Find touching points
between the
Numoccpuied’th band
and (Numoccpuied+1)’th
band</p></td>
<td><p>Nodes.dat, Nodes.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>SlabBand_calc</p></td>
<td><p>Band structure for
2D  slab system</p></td>
<td><p>slabek.dat,slabek.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>WireBand_calc</p></td>
<td><p>Band structure for
1D ribbon system</p></td>
<td><p>ribbonek.dat,ribbonek.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>Dos_calc</p></td>
<td><p>Density of state for
3D bulk system</p></td>
<td><p>dos.dat</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>JDos_calc</p></td>
<td><p>Joint Density of state
for 3D bulk system</p></td>
<td><p>jdos.dat</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>SlabSS_calc</p></td>
<td><p>Surface spectrum A(k,E)
along a kline and energy
interval for slab system</p></td>
<td><p>dos.dat_l, dos.dat_r,
dos.dat_bulk,surfdos_l.gnu,
surfdos_r.gnu,
surfdos_l_only.gnu,
surfdos_r_only.gnu,
surfdos_bulk.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>SlabArc_calc</p></td>
<td><p>Surface spectrum A(k,E0)
for fixed energy E0
in 2D k-plane
for slab system</p></td>
<td><p>arc.dat_l, arc.dat_r,
arc_l.gnu, arc_r.gnu,
arc_l_only.gnu,
arc_l_only.gnu,</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>SlabQPI_calc</p></td>
<td><p>Surface QPI
for fixed energy E0
in 2D k-plane
for slab system</p></td>
<td><p>arc.dat_l, arc.dat_r,
arc_l.gnu, arc_r.gnu,
arc_l_only.gnu,
arc_l_only.gnu,
arc.jdat_l, arc.jdat_r,
arc.jsdat_l, arc.jsdat_r,
arc_l_jdos.gnu,
arc_l_jsdos.gnu,
arc_r_jdos.gnu,
arc_r_jsdos.gnu,</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>SlabSpintexture_calc</p></td>
<td><p>Spin texture
in 2D k-plane
for slab system</p></td>
<td><p>spindos_l.dat spindos_r.dat
spintext_l.gnu spintext_r.gnu
spintext_l.dat spintext_r.dat</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>wanniercenter_calc</p></td>
<td><p>Wilson loop
of a given 3D k-plane
for bulk system</p></td>
<td><p>wcc.dat,
wcc.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>Z2_3D_calc</p></td>
<td><p>Wilson loop
in all 6 3D k-planes
for bulk system
Z2 number calculation</p></td>
<td><p>wanniercenter3D_Z2.gnu,
wanniercenter3D_Z2_{1-6}.dat</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>Chern_3D_calc</p></td>
<td><p>Wilson loop
in all 6 3D k-planes
for bulk system
Chern number calculation</p></td>
<td><p>wanniercenter3D_Z2.gnu,
wanniercenter3D_Z2_{1-6}.dat</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>WeylChirality_calc</p></td>
<td><p>Weyl Chirality
calculation for given
k points</p></td>
<td><p>find chiralities in WT.out,
wanniercenter3D_Weyl.dat,
wanniercenter3D_Weyl_*.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>BerryPhase_calc</p></td>
<td><p>Berry phase
with a 3D k path
for bulk system</p></td>
<td><p>find Berry phase in WT.out</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>BerryCurvature_calc</p></td>
<td><p>Berry Curvature
in 3D k-plane
for bulk system</p></td>
<td><p>BerryCurvature.dat,
BerryCurvature.gnu
Berrycurvature-normalized.dat
Berrycurvature-normalized.gnu</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-odd"><td><p>AHC_calc</p></td>
<td><p>Calculate anomalous Hall
conductivity
for bulk system</p></td>
<td><p>sigma_ahe.txt
in unit of (Ohm*cm)^-1</p></td>
<td><p>yes</p></td>
</tr>
<tr class="row-even"><td><p>FindNodes_calc</p></td>
<td><p>Find touch point between
the N’th band to the
(N+1)’th band in 3D BZ
N=NumOccupied</p></td>
<td><p>Nodes.dat
Nodes.gnu</p></td>
<td><p>yes</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="parameters">
<span id="parametersnamelist"></span><h4>PARAMETERS<a class="headerlink" href="#parameters" title="Link to this heading">#</a></h4>
<p>In this namelists, we listed some parameters necessary in the task you specified in namelists CONTROL.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&amp;PARAMETERS
E_arc = 0.0             ! energy for calculate Fermi Arc
Eta_Arc = 0.001     ! infinite small value, like broadening
OmegaNum = 200      ! omega number
OmegaMin = -0.6     ! energy interval
OmegaMax =  0.5     ! energy interval
Nk1 = 50            ! number k points
Nk2 = 50            ! number k points
Nk3 = 50            ! number k points
NP = 2              ! number of principle layers
Gap_threshold = 1.0    ! threshold for GapCube output
/
</pre></div>
</div>
<p><strong>E_arc</strong> : real-valued, energy for calculate Fermi arc, used if SlabArc_calc = T. The default value  is 0.0.</p>
<p><strong>Eta_Arc</strong> : real-valued, infinite same value for broadening used in Green’s function calculation.  used if SlabArc_calc = T. Default value  is 0.001.</p>
<p><strong>[OmegaMin, OmegaMax]</strong> : real-valued, energy interval for surface state calculation. used if SlabSS_calc= T. No default value.</p>
<p><strong>OmegaNum</strong> : integer valued, Number of slices in the energy interval [OmegaMin, OmegaMax]. used if SlabSS_calc= T. The default value is 100.</p>
<p><strong>Nk1, Nk2, Nk3</strong> : integer valued, Number of k points for different purpose. I will explain that later. Default value is Nk1=20, Nk2=20, Nk3=20.</p>
<p><strong>NP</strong> : integer valued, Number of principle layers, see details related to iterative green’s function. Used if  SlabSS_calc= T, SlabArc_calc=T, SlabSpintexture_calc=T. Default value is 2. You need to do a convergence test by setting Np= 1, Np=2, Np=3, and check the surface state spectrum. Basically, the value of Np depends on the spread of Wannier functions you constructed. One thing should be mentioned is that the computational time grows cubically of Np.</p>
<p><strong>Gap_threshold</strong> :  real valued. This value is used when you do energy gap calculation like BulkGap_cube_calc=T, BulkGap_plane_calc=T. The k points will be printed out in a file when the energy gap is smaller than Gap_threshold.</p>
</section>
</section>
<section id="input-card">
<span id="inputcard"></span><h3>Input Card<a class="headerlink" href="#input-card" title="Link to this heading">#</a></h3>
<p>The second important format in wt.in is the input_card format, which is relatively fixed format. First, we need a keyword like LATTICE, which is name of this card. After this keyword, the number of lines is fixed until it is done.
There are several INPUT_CARDS in the wt.in. There is no order between the INPUT_CARDS. And any comments or blank lines could be added between the INPUT_CARDS.  Lets introduce them one by one.</p>
<section id="lattice">
<span id="latticecard"></span><h4>LATTICE<a class="headerlink" href="#lattice" title="Link to this heading">#</a></h4>
<p>In this card, we set three lattice vectors coordinates.
For the unit, you can use both Angstrom and Bohr. However, in the program, we use Angstrom.
Bohr unit will be transformed to Angstrom automatically. No default values for the LATTICE CARD.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>LATTICE
Angstrom
-2.069  -3.583614  0.000000     ! crystal lattice information
 2.069  -3.583614  0.000000
 0.000   2.389075  9.546667
</pre></div>
</div>
</section>
<section id="atom-positions">
<span id="atompositions"></span><h4>ATOM_POSITIONS<a class="headerlink" href="#atom-positions" title="Link to this heading">#</a></h4>
<p>In this card, we set the atom’s position.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ATOM_POSITIONS
5                               ! number of atoms for projectors
Direct                          ! Direct or Cartisen coordinate
Bi 0.3990    0.3990    0.6970
Bi 0.6010    0.6010    0.3030
Se 0     0     0.5
Se 0.2060    0.2060    0.1180
Se 0.7940    0.7940    0.8820
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1. Here the atom means that the atoms with projectors.
not the whole atoms in the unit cell.
2. You can use “Direct” or “Cartesian” coordinates. “Direct” means the fractional coordinate based on the primitive lattice vector listed in LATTICE CARDS.</p>
</div>
</section>
<section id="projectors">
<span id="id2"></span><h4>PROJECTORS<a class="headerlink" href="#projectors" title="Link to this heading">#</a></h4>
<p>In this card, we set the Wannier projectors for the tight binding.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PROJECTORS
 3 3 3 3 3          ! number of projectors
 Bi pz px py         ! projectors
 Bi pz px py
 Se pz px py
 Se pz px py
 Se pz px py
</pre></div>
</div>
<p>Here we don’t take into account the spin degeneracy, only consider the orbital part. The name of orbitals should be “s”, “px”, “py”, “pz”, “dxy”, “dxz”, “dyz”, “dx2-y2”, “dz2”. I will add f orbitals latter. The order of the orbitals is very important if you want to analyze the symmetry properties.
The default order in Wannier90 is “s”, “pz”, “px”, “py”, “dz2”, “dxz”, “dyz”, “dx2-y2”, “dxy”. You can find the orbital order from wannier90.wout.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you don’t care about the calculation related to symmetry like mirror chern number. The order or the name is not important. So for the f electrons, please write 7 random orbitals like px or dz2 or what else you want. This is important for f orbitals.</p>
</div>
<section id="surface">
<span id="id3"></span><h5>SURFACE<a class="headerlink" href="#surface" title="Link to this heading">#</a></h5>
<p><strong>Attention: from version v2.2.6 on, you can specify a surface with SURFACE card with only two lattice vectors</strong>.</p>
</section>
</section>
<section id="surface-card">
<h4>SURFACE CARD<a class="headerlink" href="#surface-card" title="Link to this heading">#</a></h4>
<p><strong>This card is very important for slabs calculation. You need to read the following text carefully</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SURFACE            ! See doc for details
 1  0  0           a11, a12, a13
 0  1  0           a21 a22 a23
</pre></div>
</div>
<p>In this card, we specify the surface you want to investigate.  Basically,
you should be aware of which surface you want to investigate,
and of which direction you want to study the ribbon.
So we need to define the new lattice vector system like this,</p>
<p>Choose two <strong>lattice vectors</strong> on the surface we want to study,
and choose another vector which is not on this plane.</p>
<p>The slab calculations are base on the surface constructed by vector <span class="math notranslate nohighlight">\(R_1', R_2'\)</span>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>a11, a12, a13 …, a23 should be integers, in unit of three lattice vectors</p>
</div>
<a class="reference internal image-reference" href="_images/WannierTools-surfacecard.png"><img alt="_images/WannierTools-surfacecard.png" src="_images/WannierTools-surfacecard.png" style="width: 768.0px; height: 432.0px;" />
</a>
</section>
<section id="kpath-bulk">
<span id="kpathbulk"></span><h4>KPATH_BULK<a class="headerlink" href="#kpath-bulk" title="Link to this heading">#</a></h4>
<p>This is the k path for bulk band structure calculation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>KPATH_BULK            ! k point path
4              ! number of k line only for bulk band
G 0.00000 0.00000 0.0000 Z 0.00000 0.00000 0.5000
Z 0.00000 0.00000 0.5000 F 0.50000 0.50000 0.0000
F 0.50000 0.50000 0.0000 G 0.00000 0.00000 0.0000
G 0.00000 0.00000 0.0000 L 0.50000 0.00000 0.0000
</pre></div>
</div>
<p>These k points are in unit of the reciprocal lattice constant built by the lattice vector LATTICE CARD. The number of k points is Nk1, which is set in NAMELISTS PARAMETERS. There are no default values for this CARD. So you must set some value in the input file when choosing BulkBand_calc=T.</p>
</section>
<section id="kpoints-3d">
<span id="kpoints3d"></span><h4>KPOINTS_3D<a class="headerlink" href="#kpoints-3d" title="Link to this heading">#</a></h4>
<p>You can calculate the properties on some kpoints you specified in point mode. e.g. the energy bands</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>KPOINTS_3D
4              ! number of k points
Direct         ! Direct or Cartesian
0.00000 0.00000 0.0000
0.00000 0.00000 0.5000
0.50000 0.50000 0.0000
0.00000 0.00000 0.0000
</pre></div>
</div>
<p>The number of lines below “Direct” should be the same as the number above “Direct”. You could add comments at the end of each line. But you
can’t add additional comment lines between the formatted lines.</p>
</section>
<section id="kpath-slab">
<span id="kpathslab"></span><h4>KPATH_SLAB<a class="headerlink" href="#kpath-slab" title="Link to this heading">#</a></h4>
<p>This is the k path for slab system.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>KPATH_SLAB
2        ! numker of k line for 2D case
K 0.33 0.67 G 0.0 0.0  ! k path for 2D case
G 0.0 0.0 M 0.5 0.5
</pre></div>
</div>
<p>including the  band structure calculation and the surface state calculation. It is necessary to set it when SlabBand_calc=T or SlabSS_calc=T.  Number of k points along the line is Nk1.</p>
</section>
<section id="kplane-slab">
<span id="id4"></span><h4>KPLANE_SLAB<a class="headerlink" href="#kplane-slab" title="Link to this heading">#</a></h4>
<p>Define a 2D k space plane for arc plots.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>KPLANE_SLAB
-0.1 -0.1      ! Original point for 2D k plane
 0.2  0.0      ! The first vector to define 2D k plane
 0.0  0.2      ! The second vector to define 2D k plane  for arc plots
</pre></div>
</div>
<p>The first line is the start point of the plane. The second and third line are the two vectors defining the plane. The number of k points for the 1st and 2nd vector is Nk1 and Nk2 respectively. Set this CARD when SlabArc_calc=T, SlabSpintexture_calc= T. The default values are</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>KPLANE_SLAB
-0.5 -0.5      ! Original point for 2D k plane
 1.0  0.0      ! The first vector to define 2D k plane
 0.0  1.0      ! The second vector to define 2D k plane  for arc plots
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/wanniertools-kplane-slab.png"><img alt="_images/wanniertools-kplane-slab.png" src="_images/wanniertools-kplane-slab.png" style="width: 768.0px; height: 432.0px;" />
</a>
</section>
<section id="kplane-bulk">
<span id="id5"></span><h4>KPLANE_BULK<a class="headerlink" href="#kplane-bulk" title="Link to this heading">#</a></h4>
<p>The same set as KPLANE_SLAB CARD, but for 3D case.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>KPLANE_BULK
-0.50 -0.50  0.00   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  1.00  0.00   ! The second vector to define 3d k space plane
</pre></div>
</div>
<p>We can use these two vectors to calculate the band gap of a plane in 3D BZ, then we can check whether there are Weyl points or nodal line in that plane. Notice that these vectors is in unit of reciprocal vectors. Set this CARD when BulkGap_plane_calc=T, BerryCurvature_calc=T, wanniercenter_calc=T. Default values are</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>KPLANE_BULK
 0.00  0.00  0.00    ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  0.50  0.00   ! The second vector to define 3d k space plane
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/wanniertools-kplane-bulk.png"><img alt="_images/wanniertools-kplane-bulk.png" src="_images/wanniertools-kplane-bulk.png" style="width: 768.0px; height: 432.0px;" />
</a>
</section>
<section id="kcube-bulk">
<span id="id6"></span><h4>KCUBE_BULK<a class="headerlink" href="#kcube-bulk" title="Link to this heading">#</a></h4>
<p>The same set as KPLANE_BULK CARD</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>KCUBE_BULK
-0.50 -0.50 -0.50   ! Original point for 3D k plane
 1.00  0.00  0.00   ! The first vector to define 3d k space plane
 0.00  1.00  0.00   ! The second vector to define 3d k space plane
 0.00  0.00  1.00   ! The third vector to define 3d k cube
</pre></div>
</div>
<p>We add another  k vector to construct a k cube. Set this for BulkGap_cube_calc=T.  The values list above are default values.</p>
<a class="reference internal image-reference" href="_images/wanniertools-kcube-bulk.png"><img alt="_images/wanniertools-kcube-bulk.png" src="_images/wanniertools-kcube-bulk.png" style="width: 768.0px; height: 432.0px;" />
</a>
</section>
<section id="effective-mass">
<span id="effectivemass"></span><h4>EFFECTIVE_MASS<a class="headerlink" href="#effective-mass" title="Link to this heading">#</a></h4>
<p>This card is set for effective mass calculation</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>EFFECTIVE_MASS      ! optional
2                   ! The i&#39;th band to be calculated
0.01                ! k step in unit of (1/Angstrom)
0.0 0.0 0.0         ! k point where the effective mass calculated.
</pre></div>
</div>
</section>
<section id="selected-atoms">
<span id="selectedatoms"></span><h4>SELECTED_ATOMS<a class="headerlink" href="#selected-atoms" title="Link to this heading">#</a></h4>
<p>This card is useful if you want to get some energy spectrum that only projected on some specific atoms.
For example, we can calculate the surface projected spin texture in the bulk system with vacuum.</p>
<p>The example is listed in the example/Bi2Se3-6Qlayers</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SELECTED_ATOMS
2 ! number groups of selected atoms
6 12 18 24 30  ! top surface&#39;s atoms
1  7 13 19 25  ! bottom surface&#39;s atoms
</pre></div>
</div>
</section>
<section id="wannier-centres">
<span id="wanniercenter"></span><h4>WANNIER_CENTRES<a class="headerlink" href="#wannier-centres" title="Link to this heading">#</a></h4>
<p>This card will be usefull for Wilson loop calculations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>WANNIER_CENTRES     ! copy from wannier90.wout
Cartesian
 -0.000040  -1.194745   6.638646
  0.000038  -1.196699   6.640059
 -0.000032  -1.192363   6.640243
 -0.000086  -3.583414   2.908040
  0.000047  -3.581457   2.906587
 -0.000033  -3.585864   2.906443
 -0.000001   1.194527   4.773338
  0.000003   1.194538   4.773336
 -0.000037   1.194536   4.773327
  0.000006  -1.194384   1.130261
 -0.000018  -1.216986   1.140267
  0.000007  -1.172216   1.140684
  0.000011  -3.583770   8.416406
 -0.000002  -3.561169   8.406398
 -0.000007  -3.605960   8.405979
  0.000086  -1.194737   6.638626
 -0.000047  -1.196693   6.640080
  0.000033  -1.192286   6.640223
  0.000040  -3.583406   2.908021
 -0.000038  -3.581452   2.906608
  0.000032  -3.585788   2.906424
  0.000001   1.194548   4.773330
 -0.000003   1.194537   4.773332
  0.000037   1.194539   4.773340
 -0.000011  -1.194381   1.130260
  0.000002  -1.216981   1.140268
  0.000007  -1.172191   1.140687
 -0.000006  -3.583766   8.416405
  0.000018  -3.561165   8.406400
 -0.000007  -3.605935   8.405982
</pre></div>
</div>
<p>Those centres can be obtained from wannier90.wout by searching “Final state”.
The default values for this card are atomic positions.</p>
</section>
</section>
</section>
<section id="special-tags-for-phonon-system-under-testing">
<span id="phonon"></span><h2><span class="section-number">2.2.2. </span>Special tags for phonon system (under testing)<a class="headerlink" href="#special-tags-for-phonon-system-under-testing" title="Link to this heading">#</a></h2>
<p>Now we have one testing version of phonon system, you can write to <a class="reference external" href="mailto:wuquansheng&#37;&#52;&#48;gmail&#46;com">wuquansheng<span>&#64;</span>gmail<span>&#46;</span>com</a> for testing.
There are two steps for using WannierTools for phonon system.</p>
<p>1. Use phonon_hr.py to get the tight-binding Hamiltonian from the FORCE_CONSTANTS or FORCE_SETS which generated with <a class="reference external" href="https://atztogo.github.io/phonopy/">phonopy</a>.
This part was written by Changming Yue (yuechangming8 at gmail.com). You can write email to him to get the source.
By default the hrfile name of the Hamiltonian is phonopyTB_hr.dat. You can change the name of it as whatever you want.</p>
<p>2. After the generation of hrfile. You need another wt.in file as the same as the electron system. One difference is that
you need to specify <strong>Particle = ‘phonon’</strong> in the <strong>TB_FILE</strong> namelist like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&amp;</span><span class="n">TB_FILE</span>
<span class="n">Hrfile</span> <span class="o">=</span> <span class="s1">&#39;phonopyTB_hr.dat&#39;</span>
<span class="n">Particle</span> <span class="o">=</span> <span class="s1">&#39;phonon&#39;</span>
<span class="o">/</span>
</pre></div>
</div>
<section id="lo-to-splitting">
<span id="loto"></span><h3>LO-TO splitting<a class="headerlink" href="#lo-to-splitting" title="Link to this heading">#</a></h3>
<p>The LO-TO splitting can be treated as a pertubation <a class="reference external" href="https://atztogo.github.io/phonopy/setting-tags.html#nac-tag">see phonopy</a>.</p>
<p>We need the following necessary CARDs in the <strong>wt.in</strong>. Take <a class="reference external" href="https://journals.aps.org/prl/abstract/10.1103/PhysRevLett.120.016401">FeSi</a> as an example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>ATOM_MASS
2  ! number of types of atom, for FeSi, we have 2
4 4  ! number of atoms for each atom-type Fe4Si4
55.845 28.0855 ! atomic mass for each type of atom

LOTO_DT        ! Dielectric constant tensor
199.480 0 0
0 199.480 0
0 0 199.480

LOTO_BC   ! Born charge tensor for each type of atom
-4.3431500   0.6899200  -0.4140700
-0.4140800  -4.3431600   0.6899300
0.6898900  -0.4140600  -4.3431500
4.3909800   0.2300200  -0.1092900
-0.1093100   4.3909900   0.2300100
0.2300400  -0.1092800   4.3909800
</pre></div>
</div>
<p>LOTO_DT is a 3*3 matrix. LOTO_BC are Number-of-atom-types 3*3 matrices.</p>
</section>
</section>
<section id="tight-binding-model-wannier90-hr-dat">
<span id="wannier90-dat"></span><h2><span class="section-number">2.2.3. </span>Tight-binding model wannier90_hr.dat<a class="headerlink" href="#tight-binding-model-wannier90-hr-dat" title="Link to this heading">#</a></h2>
<p>There are two kinds of storage format. One is called the dense format which is defined by software <a class="reference external" href="http://wannier.org">Wannier90</a>. The other
one is the sparse format where only the non-zeros hopping integrals are stored. The sparse-formatted tight-binding model storage
is defined by WannierTools.</p>
<section id="dense-format-storage">
<h3>Dense format storage<a class="headerlink" href="#dense-format-storage" title="Link to this heading">#</a></h3>
<p>This file contains the TB parameters. Usually, it can be generated by <a class="reference external" href="http://wannier.org">Wannier90</a>.</p>
<p>Of cource, you can generate it from the Slater-Koster method or discretize k.p model onto a cubic lattice.
The format should like this</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">written</span> <span class="n">on</span>  <span class="mi">8</span><span class="n">May2016</span> <span class="n">at</span> <span class="mi">13</span><span class="p">:</span><span class="mi">57</span><span class="p">:</span><span class="mi">00</span>
         <span class="mi">30</span>
        <span class="mi">547</span>
   <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">4</span>
   <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">4</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">4</span>
   <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">4</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>
   <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">2</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">1</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000002</span>    <span class="mf">0.000003</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">2</span>    <span class="mi">1</span>    <span class="mf">0.000002</span>    <span class="mf">0.000017</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">3</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000053</span>    <span class="mf">0.000002</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">4</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000031</span>    <span class="mf">0.000002</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">5</span>    <span class="mi">1</span>    <span class="mf">0.000001</span>   <span class="o">-</span><span class="mf">0.000000</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">6</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000003</span>    <span class="mf">0.000002</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">7</span>    <span class="mi">1</span>    <span class="mf">0.000037</span>   <span class="o">-</span><span class="mf">0.000001</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">8</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000001</span>   <span class="o">-</span><span class="mf">0.000003</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>    <span class="mi">9</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000005</span>   <span class="o">-</span><span class="mf">0.000003</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">10</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000062</span>   <span class="o">-</span><span class="mf">0.000001</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">11</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000001</span>    <span class="mf">0.000001</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">12</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000031</span>    <span class="mf">0.000002</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">13</span>    <span class="mi">1</span>    <span class="mf">0.000011</span>   <span class="o">-</span><span class="mf">0.000000</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">14</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000001</span>    <span class="mf">0.000001</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">15</span>    <span class="mi">1</span>    <span class="mf">0.000003</span>    <span class="mf">0.000003</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">16</span>    <span class="mi">1</span>    <span class="mf">0.000000</span>   <span class="o">-</span><span class="mf">0.000010</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">17</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000010</span>   <span class="o">-</span><span class="mf">0.000001</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">18</span>    <span class="mi">1</span>   <span class="o">-</span><span class="mf">0.000000</span>   <span class="o">-</span><span class="mf">0.000008</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">19</span>    <span class="mi">1</span>    <span class="mf">0.000000</span>    <span class="mf">0.000000</span>
  <span class="o">-</span><span class="mi">6</span>    <span class="mi">2</span>   <span class="o">-</span><span class="mi">3</span>   <span class="mi">20</span>    <span class="mi">1</span>    <span class="mf">0.000012</span>   <span class="o">-</span><span class="mf">0.000002</span>
  <span class="o">......</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>The 1st line is a comment line with any content.</p></li>
<li><p>The 2nd line is the number of Wannier orbitals, in consideration of spin degeneracy. We call it NUM_WANNS</p></li>
<li><p>The 3rd line is the number of <strong>R</strong> lattice vectors, we call it NRPTS</p></li>
<li><p>This section is about the degeneracy of R points. If you generate wannier90_hr.dat by you self,
please set it to 1. There are NRPTS number of 1.</p></li>
<li><p>This section gives the TB parameters. The first three integers are the coordinates or R vectors in unit of three lattice vectors.
The 4th and 5th column are the band index (Row first). The 6th and 7th are complex entities of the Hamiltonian.</p></li>
</ol>
</section>
<section id="sparse-format-storage">
<h3>Sparse format storage<a class="headerlink" href="#sparse-format-storage" title="Link to this heading">#</a></h3>
<p>In the sparse format, we only store the non-zero hopping integrals. One example is like that</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>! Tight binding model for Twisted double bilayer graphene m=17, theta=1.890099 degree, only pz orbit considered
895664  ! number of non-zero lines of hmnr
7352  ! number of orbitals
9                 ! number of R points
1 1 1 1 1 1 1 1 1  ! degeneracies of each R point
0  0  0  1  1  -7.800000e-01  0
0  0  0  1  2  -2.806683e-01  0
0  0  0  1  3  -5.192147e-03  0
0  0  0  1  4  -2.806856e-01  0
0  0  0  1  5  -2.808505e-01  0
.....
</pre></div>
</div>
<ol class="arabic simple">
<li><p>The 1st line is a comment line with any content.</p></li>
<li><p>The 2nd line is the number of Wannier orbitals, in consideration of spin degeneracy. We call it NUM_WANNS</p></li>
<li><p>The 3rd line is the number of <strong>R</strong> lattice vectors, we call it NRPTS</p></li>
<li><p>This section is about the degeneracy of R points. If you generate wannier90_hr.dat by you self,
please set it to 1. There are NRPTS number of 1.</p></li>
<li><p>This section gives the TB parameters. The first three integers are the coordinates or R vectors in unit of three lattice vectors.
The 4th and 5th column are the band index (Row first). The 6th and 7th are complex entities of the Hamiltonian.</p></li>
</ol>
</section>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="installation.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">2.1. </span>Installation of WannierTools (Linux or Mac)</p>
      </div>
    </a>
    <a class="right-next"
       href="features.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2.3. </span>Capabilities of WannierTools</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#main-input-file-wt-in">2.2.1. Main input file wt.in</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-parameters">Basic Parameters</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#namelists">NAMELISTS</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#tb-file">TB_FILE</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#system">SYSTEM</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#control">CONTROL</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#parameters">PARAMETERS</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#input-card">Input Card</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#lattice">LATTICE</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#atom-positions">ATOM_POSITIONS</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#projectors">PROJECTORS</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#surface">SURFACE</a></li>
</ul>
</li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#surface-card">SURFACE CARD</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kpath-bulk">KPATH_BULK</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kpoints-3d">KPOINTS_3D</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kpath-slab">KPATH_SLAB</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kplane-slab">KPLANE_SLAB</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kplane-bulk">KPLANE_BULK</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#kcube-bulk">KCUBE_BULK</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#effective-mass">EFFECTIVE_MASS</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#selected-atoms">SELECTED_ATOMS</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#wannier-centres">WANNIER_CENTRES</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#special-tags-for-phonon-system-under-testing">2.2.2. Special tags for phonon system (under testing)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lo-to-splitting">LO-TO splitting</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tight-binding-model-wannier90-hr-dat">2.2.3. Tight-binding model wannier90_hr.dat</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dense-format-storage">Dense format storage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sparse-format-storage">Sparse format storage</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2018, WannierTools Team.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>